@import "tailwindcss";

/* ═══ Design Tokens (exact from prototype) ═══ */
:root {
  --bg-primary: #0a0e1a;
  --bg-secondary: #111827;
  --bg-card: #1a2035;
  --bg-card-hover: #1f2847;
  --bg-sidebar: #0d1220;
  --border: #2a3554;
  --border-light: #374167;
  --text-primary: #e8ecf4;
  --text-secondary: #8896b3;
  --text-muted: #5a6a8a;
  --green: #22c55e; --green-dim: rgba(34,197,94,0.15);
  --yellow: #eab308; --yellow-dim: rgba(234,179,8,0.15);
  --orange: #f97316; --orange-dim: rgba(249,115,22,0.15);
  --red: #ef4444; --red-dim: rgba(239,68,68,0.15);
  --blue: #3b82f6; --blue-dim: rgba(59,130,246,0.12);
  --purple: #8b5cf6; --purple-dim: rgba(139,92,246,0.12);
  --cyan: #06b6d4;
  --radius: 10px;
  --radius-sm: 6px;
  --shadow: 0 4px 24px rgba(0,0,0,0.3);
  --transition: 0.2s ease;
}

* { margin:0; padding:0; box-sizing:border-box; }
body {
  font-family: 'DM Sans', system-ui, -apple-system, sans-serif;
  background: var(--bg-primary);
  color: var(--text-primary);
  height: 100vh;
  overflow: hidden;
}
#root { height:100vh; display:flex; }

::-webkit-scrollbar { width:5px; }
::-webkit-scrollbar-track { background:transparent; }
::-webkit-scrollbar-thumb { background:var(--border); border-radius:3px; }

/* ═══ Animations ═══ */
@keyframes pulse {
  0%,100% { box-shadow:0 0 0 0 rgba(34,197,94,0.4); }
  50% { box-shadow:0 0 0 5px rgba(34,197,94,0); }
}
@keyframes fadeIn {
  from { opacity:0; transform:translateY(6px); }
  to { opacity:1; transform:translateY(0); }
}
@keyframes modalIn {
  from { opacity:0; transform:scale(0.96); }
  to { opacity:1; transform:scale(1); }
}
.view-enter { animation: fadeIn 0.3s ease; }

/* ═══ Sidebar ═══ */
.sidebar {
  width:260px; min-width:260px;
  background:var(--bg-sidebar);
  border-right:1px solid var(--border);
  display:flex; flex-direction:column;
  height:100vh; overflow-y:auto;
}
.sidebar-brand {
  padding:14px 16px; border-bottom:1px solid var(--border);
  display:flex; align-items:center; gap:10px;
}
.sidebar-brand .shield {
  width:30px; height:30px;
  background:linear-gradient(135deg,var(--blue),var(--purple));
  border-radius:7px; display:flex; align-items:center; justify-content:center;
  font-size:15px;
}
.sidebar-brand .brand-text h1 { font-size:14px; font-weight:700; letter-spacing:-0.02em; }
.sidebar-brand .brand-text span { font-size:10px; color:var(--text-muted); }

.sidebar-section { padding:8px 8px 2px; }
.sidebar-section-label {
  font-size:9px; font-weight:700; text-transform:uppercase;
  letter-spacing:0.08em; color:var(--text-muted); padding:0 8px; margin-bottom:2px;
}
.sidebar-item {
  display:flex; align-items:center; gap:8px;
  padding:5px 10px; border-radius:var(--radius-sm);
  font-size:12px; color:var(--text-secondary);
  cursor:pointer; transition:var(--transition);
  border:1px solid transparent; margin-bottom:0;
  text-decoration:none;
}
.sidebar-item:hover { background:var(--bg-card); color:var(--text-primary); }
.sidebar-item.active {
  background:var(--blue-dim); color:var(--blue);
  border-color:rgba(59,130,246,0.2);
}
.sidebar-item .icon { font-size:14px; width:18px; text-align:center; }
.sidebar-item .badge {
  margin-left:auto; font-size:10px; font-weight:600;
  padding:2px 7px; border-radius:10px;
  font-family:'JetBrains Mono',monospace;
}
.badge-red { background:var(--red-dim); color:var(--red); }
.badge-yellow { background:var(--yellow-dim); color:var(--yellow); }
.badge-green { background:var(--green-dim); color:var(--green); }
.badge-blue { background:var(--blue-dim); color:var(--blue); }

/* ═══ Main Layout ═══ */
.main-wrapper {
  flex:1; display:flex; flex-direction:column;
  height:100vh; overflow:hidden;
}
.topbar {
  padding:12px 28px; border-bottom:1px solid var(--border);
  display:flex; align-items:center; justify-content:space-between;
  background:rgba(10,14,26,0.7); backdrop-filter:blur(12px); min-height:52px;
}
.topbar h2 { font-size:17px; font-weight:600; letter-spacing:-0.02em; }
.topbar .meta { font-size:12px; color:var(--text-muted); display:flex; align-items:center; gap:16px; }
.topbar .live-dot {
  width:7px; height:7px; background:var(--green); border-radius:50%;
  display:inline-block; margin-right:4px; animation:pulse 2s infinite;
}
.content { flex:1; overflow-y:auto; padding:24px 28px 48px; }

/* ═══ Cards ═══ */
.card {
  background:var(--bg-card); border:1px solid var(--border);
  border-radius:var(--radius); padding:20px;
  margin-bottom:16px; transition:var(--transition);
}
.card:hover { border-color:var(--border-light); }
.card-title {
  font-size:11px; font-weight:700; text-transform:uppercase;
  letter-spacing:0.06em; color:var(--text-muted); margin-bottom:14px;
}

/* ═══ Grid ═══ */
.grid-4{display:grid;grid-template-columns:repeat(4,1fr);gap:14px;margin-bottom:16px}
.grid-3{display:grid;grid-template-columns:repeat(3,1fr);gap:14px;margin-bottom:16px}
.grid-2{display:grid;grid-template-columns:repeat(2,1fr);gap:14px;margin-bottom:16px}
.grid-2-1{display:grid;grid-template-columns:2fr 1fr;gap:14px;margin-bottom:16px}
.grid-1-2{display:grid;grid-template-columns:1fr 2fr;gap:14px;margin-bottom:16px}

/* ═══ KPI ═══ */
.kpi .value {
  font-size:32px; font-weight:700; letter-spacing:-0.03em;
  font-family:'JetBrains Mono',monospace; line-height:1.1; margin-bottom:4px;
}
.kpi .label { font-size:12px; color:var(--text-secondary); }
.kpi .trend {
  font-size:11px; font-family:'JetBrains Mono',monospace;
  margin-top:8px; display:inline-flex; align-items:center; gap:3px;
  padding:2px 7px; border-radius:5px;
}

.clickable { cursor:pointer; transition:var(--transition); }
.clickable:hover { background:var(--bg-card-hover); transform:translateY(-1px); }

/* ═══ Buttons ═══ */
.btn {
  padding:8px 18px; border-radius:var(--radius-sm);
  font-size:13px; font-weight:500; font-family:inherit;
  cursor:pointer; transition:var(--transition); border:1px solid var(--border);
  background:var(--bg-card); color:var(--text-primary);
  display:inline-flex; align-items:center; gap:6px;
}
.btn:hover { background:var(--bg-card-hover); border-color:var(--border-light); }
.btn-primary { background:var(--blue); border-color:var(--blue); color:#fff; }
.btn-primary:hover { background:#2563eb; }
.btn-sm { padding:5px 12px; font-size:12px; }
.btn-danger { color:var(--red); border-color:rgba(239,68,68,0.3); }
.btn-danger:hover { background:var(--red-dim); }

/* ═══ Tables ═══ */
.data-table { width:100%; border-collapse:separate; border-spacing:0; }
.data-table th {
  font-size:10px; font-weight:700; text-transform:uppercase;
  letter-spacing:0.06em; color:var(--text-muted);
  text-align:left; padding:10px 12px;
  border-bottom:1px solid var(--border);
  background:var(--bg-card); position:sticky; top:0; z-index:2;
}
.data-table td {
  padding:10px 12px; font-size:13px;
  border-bottom:1px solid rgba(42,53,84,0.3);
}
.data-table tr:hover td { background:rgba(255,255,255,0.015); }
.score-badge {
  display:inline-flex; align-items:center; padding:3px 9px;
  border-radius:5px; font-family:'JetBrains Mono',monospace;
  font-size:11px; font-weight:600;
}

/* ═══ Forms ═══ */
.form-group { margin-bottom:16px; }
.form-group label {
  display:block; font-size:12px; font-weight:600; color:var(--text-secondary);
  margin-bottom:5px; text-transform:uppercase; letter-spacing:0.04em;
}
.form-control {
  width:100%; padding:9px 12px; border-radius:var(--radius-sm);
  border:1px solid var(--border); background:var(--bg-secondary);
  color:var(--text-primary); font-family:inherit; font-size:13px;
  transition:var(--transition);
}
.form-control:focus { outline:none; border-color:var(--blue); box-shadow:0 0 0 3px var(--blue-dim); }
select.form-control { cursor:pointer; }
textarea.form-control { resize:vertical; min-height:70px; }

/* ═══ Heatmap ═══ */
.heatmap-grid { display:grid; gap:4px; }
.heatmap-row { display:grid; gap:4px; align-items:center; }
.heatmap-label { font-size:11px; color:var(--text-secondary); text-align:right; padding-right:6px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
.heatmap-header { font-size:9px; font-weight:700; text-transform:uppercase; letter-spacing:0.04em; color:var(--text-muted); text-align:center; }
.heatmap-cell {
  border-radius:4px; display:flex; align-items:center; justify-content:center;
  font-size:10px; font-family:'JetBrains Mono',monospace; font-weight:600;
  cursor:pointer; transition:var(--transition); min-height:30px;
}
.heatmap-cell:hover { transform:scale(1.08); z-index:5; box-shadow:var(--shadow); }

/* ═══ Score Ring ═══ */
.score-ring { position:relative; width:120px; height:120px; }
.score-ring svg { transform:rotate(-90deg); }
.score-ring .ring-bg { fill:none; stroke:var(--border); stroke-width:7; }
.score-ring .ring-fill { fill:none; stroke-width:7; stroke-linecap:round; transition:stroke-dashoffset 1.5s cubic-bezier(0.4,0,0.2,1); }
.score-ring .ring-label { position:absolute; top:50%; left:50%; transform:translate(-50%,-50%); text-align:center; }
.score-ring .ring-label .num { font-size:28px; font-weight:700; font-family:'JetBrains Mono',monospace; }
.score-ring .ring-label .of { font-size:10px; color:var(--text-muted); }

/* ═══ Bars ═══ */
.bar-row { display:flex; align-items:center; gap:10px; margin-bottom:8px; }
.bar-row .bar-label { width:160px; font-size:11px; color:var(--text-secondary); text-align:right; flex-shrink:0; }
.bar-track { flex:1; height:24px; background:rgba(255,255,255,0.04); border-radius:5px; overflow:hidden; }
.bar-fill { height:100%; border-radius:5px; position:relative; transition:width 1s ease; }
.bar-fill::after { content:attr(data-value); position:absolute; right:6px; top:50%; transform:translateY(-50%); font-size:10px; font-family:'JetBrains Mono',monospace; font-weight:600; color:#fff; }
.bar-score { width:36px; font-size:12px; font-family:'JetBrains Mono',monospace; font-weight:600; text-align:right; }

/* ═══ Tags ═══ */
.tag-list { display:flex; flex-wrap:wrap; gap:6px; margin-top:6px; }
.tag {
  display:inline-flex; align-items:center; gap:4px;
  padding:4px 10px; border-radius:12px;
  font-size:11px; font-weight:500;
  background:var(--blue-dim); color:var(--blue);
  border:1px solid rgba(59,130,246,0.2);
}

/* ═══ Tree ═══ */
.tree-item {
  padding:8px 12px; margin-left:20px; border-left:2px solid var(--border);
  cursor:pointer; transition:var(--transition); font-size:13px;
}
.tree-item:hover { background:var(--bg-card-hover); border-left-color:var(--blue); }
.tree-item.root { margin-left:0; border-left:none; font-weight:600; font-size:14px; }
.tree-item .tree-meta { font-size:11px; color:var(--text-muted); margin-top:2px; }
.tree-item .tree-badge {
  float:right; font-size:10px; padding:2px 8px; border-radius:4px;
  font-family:'JetBrains Mono',monospace;
}

/* ═══ Modal ═══ */
.modal-overlay {
  position:fixed; top:0; left:0; right:0; bottom:0;
  background:rgba(0,0,0,0.6); backdrop-filter:blur(6px);
  z-index:300; display:none; align-items:center; justify-content:center;
}
.modal-overlay.active { display:flex; }
.modal {
  background:var(--bg-secondary); border:1px solid var(--border);
  border-radius:12px; width:90%; max-width:700px; max-height:85vh;
  overflow-y:auto; box-shadow:0 8px 40px rgba(0,0,0,0.5);
  animation:modalIn 0.25s ease;
}
.modal-header {
  display:flex; align-items:center; justify-content:space-between;
  padding:18px 22px; border-bottom:1px solid var(--border);
}
.modal-header h3 { font-size:16px; font-weight:600; }
.modal-close {
  width:30px; height:30px; border-radius:6px; border:1px solid var(--border);
  background:transparent; color:var(--text-secondary); cursor:pointer;
  font-size:14px; display:flex; align-items:center; justify-content:center;
}
.modal-close:hover { background:var(--bg-card); }
.modal-body { padding:22px; }

/* ═══ CIS Controls ═══ */
.cis-control-card {
  background:var(--bg-card); border:1px solid var(--border);
  border-radius:var(--radius); margin-bottom:8px;
  overflow:hidden; transition:var(--transition);
}
.cis-control-header {
  padding:14px 18px; cursor:pointer; display:flex;
  align-items:center; justify-content:space-between; transition:var(--transition);
}
.cis-control-header:hover { background:var(--bg-card-hover); }

/* ═══ Toolbar ═══ */
.toolbar {
  display:flex; justify-content:space-between; align-items:center; margin-bottom:16px;
}
.toolbar-left { display:flex; gap:8px; flex-wrap:wrap; }
.toolbar-right { display:flex; gap:8px; }

/* ═══ Theme Switcher ═══ */
.theme-switcher {
  display:flex; gap:2px; background:var(--bg-card); border:1px solid var(--border);
  border-radius:var(--radius-sm); padding:2px;
}
.theme-btn {
  width:30px; height:26px; border:none; background:transparent; border-radius:4px;
  cursor:pointer; font-size:13px; display:flex; align-items:center; justify-content:center;
  transition:var(--transition); opacity:0.5;
}
.theme-btn:hover { opacity:0.8; background:var(--bg-card-hover); }
.theme-btn.active { opacity:1; background:var(--blue-dim); box-shadow:0 0 0 1px var(--blue); }

/* ═══ Light/Material theme sidebar overrides ═══ */
[data-theme="light"] .sidebar,
[data-theme="material"] .sidebar {
  color:#e8ecf4;
}
[data-theme="light"] .sidebar .sidebar-item { color:#8896b3; }
[data-theme="light"] .sidebar .sidebar-item:hover { background:rgba(255,255,255,0.06); color:#e8ecf4; }
[data-theme="light"] .sidebar .sidebar-item.active { background:rgba(59,130,246,0.12); color:#3b82f6; border-color:rgba(59,130,246,0.2); }
[data-theme="light"] .sidebar .sidebar-section-label { color:#5a6a8a; }
[data-theme="light"] .sidebar .sidebar-brand .brand-text h1 { color:#e8ecf4; }
[data-theme="light"] .sidebar .sidebar-brand .brand-text span { color:#5a6a8a; }
[data-theme="light"] .sidebar-brand { border-bottom-color:rgba(255,255,255,0.08); }

[data-theme="material"] .sidebar .sidebar-item { color:rgba(255,255,255,0.6); }
[data-theme="material"] .sidebar .sidebar-item:hover { background:rgba(255,255,255,0.08); color:#fff; }
[data-theme="material"] .sidebar .sidebar-item.active { background:rgba(255,255,255,0.12); color:#fff; border-color:rgba(255,255,255,0.2); }
[data-theme="material"] .sidebar .sidebar-section-label { color:rgba(255,255,255,0.4); }
[data-theme="material"] .sidebar .sidebar-brand .brand-text h1 { color:#fff; }
[data-theme="material"] .sidebar .sidebar-brand .brand-text span { color:rgba(255,255,255,0.5); }
[data-theme="material"] .sidebar-brand { border-bottom-color:rgba(255,255,255,0.1); }
[data-theme="material"] .sidebar { border-right-color:rgba(255,255,255,0.08); }

/* ═══ Light theme card shadows ═══ */
[data-theme="light"] .card,
[data-theme="material"] .card {
  box-shadow:0 1px 3px rgba(0,0,0,0.06), 0 1px 2px rgba(0,0,0,0.04);
}
[data-theme="light"] .topbar,
[data-theme="material"] .topbar {
  background:var(--bg-secondary); backdrop-filter:none;
}

/* ═══ Light theme form controls ═══ */
[data-theme="light"] .form-control,
[data-theme="material"] .form-control {
  background:var(--bg-primary);
}

/* ═══ Material elevation ═══ */
[data-theme="material"] .card { border:none; box-shadow:0 2px 4px rgba(0,0,0,0.08), 0 1px 2px rgba(0,0,0,0.06); border-radius:12px; }
[data-theme="material"] .card:hover { box-shadow:0 4px 12px rgba(0,0,0,0.12); }
[data-theme="material"] .btn-primary { background:#1565c0; border-color:#1565c0; border-radius:20px; }
[data-theme="material"] .btn-primary:hover { background:#1976d2; }
[data-theme="material"] .btn { border-radius:20px; }
[data-theme="material"] .sidebar-item { border-radius:24px; }
[data-theme="material"] .form-control { border-radius:8px; }

/* ═══ Badge gray (used for archived items) ═══ */
.badge-gray { background:rgba(156,163,175,0.15); color:#9ca3af; }

/* ═══ Responsive ═══ */
@media(max-width:1100px) {
  .sidebar { width:60px; min-width:60px; }
  .sidebar .brand-text, .sidebar-section-label, .sidebar-item span:not(.icon), .sidebar-item .badge { display:none; }
  .sidebar-item { justify-content:center; padding:10px; }
  .grid-4 { grid-template-columns:repeat(2,1fr); }
}
